/* ============================================================================
   SMOOTH SECTION TRANSITIONS - FINZN
   ============================================================================ */

/* Main dashboard container for smooth transitions */
.main-dashboard {
  position: relative;
  overflow: hidden;
}

/* Dashboard sections optimized for premium smooth animations */
.dashboard-section {
  /* CRITICAL: Completely hidden by default */
  opacity: 0;
  visibility: hidden;
  pointer-events: none;
  
  /* Positioned off-screen to prevent any visual interference */
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  width: 100%;
  z-index: 0;
  
  /* Enhanced performance optimizations */
  will-change: transform, opacity, filter;
  transform: translateX(40px) scale(0.98);
  filter: blur(4px) brightness(0.9);
  
  /* Premium smooth transitions */
  transition: 
    opacity 400ms cubic-bezier(0.25, 0.46, 0.45, 0.94),
    transform 400ms cubic-bezier(0.25, 0.46, 0.45, 0.94),
    filter 400ms cubic-bezier(0.25, 0.46, 0.45, 0.94),
    visibility 400ms cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

/* CRITICAL: Prevent transition inheritance to child elements */
.dashboard-section * {
  transition: none !important;
  will-change: auto !important;
}

/* IMPORTANT: Re-enable specific transitions for interactive elements */
.dashboard-section .btn,
.dashboard-section .card,
.dashboard-section .nav-item,
.dashboard-section input,
.dashboard-section select,
.dashboard-section textarea,
.dashboard-section .metric-card,
.dashboard-section .summary-card,
.dashboard-section .chart-container,
.dashboard-section .expense-card,
.dashboard-section .goal-card,
.dashboard-section .budget-card {
  transition: all 0.2s ease !important;
  will-change: auto !important;
  opacity: 1 !important;
  transform: none !important;
}

/* Re-enable hover effects */
.dashboard-section .btn:hover,
.dashboard-section .card:hover {
  transition: all 0.2s ease !important;
}

/* Ensure text and numbers are never animated during section transitions */
.dashboard-section .new-balance-amount,
.dashboard-section .new-item-amount,
.dashboard-section .metric-number,
.dashboard-section .balance-amount,
.dashboard-section .total-amount,
.dashboard-section h1,
.dashboard-section h2,
.dashboard-section h3,
.dashboard-section p,
.dashboard-section span {
  transition: none !important;
  will-change: auto !important;
  opacity: 1 !important;
  transform: none !important;
}

/* Active section state with enhanced entrance */
.dashboard-section.active {
  opacity: 1;
  visibility: visible;
  pointer-events: auto;
  position: relative;
  transform: translateX(0) scale(1);
  filter: blur(0px) brightness(1);
  z-index: 10; /* Ensure active section is always on top */
}

/* ============================================================================
   SEQUENTIAL TRANSITION STATES - No overlap between sections
   ============================================================================ */

/* Section transitioning OUT - premium fade out */
.dashboard-section.transitioning-out {
  opacity: 0 !important;
  visibility: hidden !important;
  pointer-events: none !important;
  position: absolute !important;
  transform: translateX(-30px) scale(0.95) !important;
  filter: blur(6px) brightness(0.7) !important;
  z-index: 1 !important;
  
  /* Smooth but quick transition for exit */
  transition: 
    opacity 200ms cubic-bezier(0.4, 0, 1, 1),
    transform 200ms cubic-bezier(0.4, 0, 1, 1),
    filter 200ms cubic-bezier(0.4, 0, 1, 1),
    visibility 200ms cubic-bezier(0.4, 0, 1, 1) !important;
}

/* Section transitioning IN - premium smooth entrance */
.dashboard-section.transitioning-in {
  opacity: 0;
  visibility: visible;
  pointer-events: none;
  position: relative;
  transform: translateX(50px) scale(0.96);
  filter: blur(8px) brightness(0.8);
  z-index: 2;
  
  /* Premium smooth entrance transition */
  transition: 
    opacity 350ms cubic-bezier(0.25, 0.46, 0.45, 0.94),
    transform 350ms cubic-bezier(0.25, 0.46, 0.45, 0.94),
    filter 350ms cubic-bezier(0.25, 0.46, 0.45, 0.94),
    visibility 350ms cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

/* When transitioning-in becomes active - enhanced completion */
.dashboard-section.transitioning-in.active {
  opacity: 1;
  visibility: visible;
  pointer-events: auto;
  transform: translateX(0) scale(1);
  filter: blur(0px) brightness(1);
}

/* Accessibility: Respect reduced motion preference */
@media (prefers-reduced-motion: reduce) {
  .dashboard-section {
    transition: none;
    transform: none;
  }
  
  .dashboard-section:not(.active) {
    display: none;
  }
  
  .dashboard-section.active {
    display: block;
    position: relative;
  }
}

/* Performance: Clean up will-change after transitions */
.dashboard-section:not(.active) {
  will-change: auto;
}

/* ============================================================================
   CRITICAL OVERRIDES - Ensure no conflicts with other CSS
   ============================================================================ */
   
/* IMPORTANT: Override any conflicting display rules */
.dashboard-section {
  display: block !important; /* Always block, controlled by opacity */
}

/* Prevent layout shifts during transitions */
.main-dashboard {
  min-height: calc(100vh - 160px);
  contain: layout style;
}

/* Smooth transition timing for professional feel */
:root {
  --transition-smooth: 250ms cubic-bezier(0.25, 0.46, 0.45, 0.94);
  --transition-bounce: 300ms cubic-bezier(0.68, -0.55, 0.265, 1.55);
}