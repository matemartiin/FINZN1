<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>FINZN - Tu Compa√±ero Financiero Inteligente</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;600;700;800;900&family=Nunito:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/src/styles/main.css" />
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.js"></script>
</head>
<body>
  <!-- Alert System -->
  <div id="alert-container" class="alert-container"></div>
  
  <!-- Login Container -->
  <div id="login-container" class="auth-container">
    <div class="auth-card">
      <div class="auth-header">
        <div class="auth-logo">
          <div class="finzn-logo-main">
            <svg width="120" height="120" viewBox="0 0 120 120" xmlns="http://www.w3.org/2000/svg">
              <!-- Outer bubble/speech bubble shape -->
              <defs>
                <linearGradient id="logoGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                  <stop offset="0%" style="stop-color:#B7A6FF;stop-opacity:1" />
                  <stop offset="100%" style="stop-color:#BDE2FF;stop-opacity:1" />
                </linearGradient>
                <filter id="logoShadow" x="-50%" y="-50%" width="200%" height="200%">
                  <feDropShadow dx="0" dy="4" stdDeviation="8" flood-color="rgba(183, 166, 255, 0.3)"/>
                </filter>
              </defs>
              
              <!-- Main bubble shape -->
              <path d="M20 40 Q20 20 40 20 L80 20 Q100 20 100 40 L100 60 Q100 80 80 80 L50 80 L35 95 L40 80 L40 80 Q20 80 20 60 Z" 
                    fill="url(#logoGradient)" 
                    filter="url(#logoShadow)"
                    stroke="rgba(255,255,255,0.3)" 
                    stroke-width="2"/>
              
              <!-- Letter F -->
              <text x="60" y="65" 
                    font-family="DM Sans, sans-serif" 
                    font-size="36" 
                    font-weight="900" 
                    fill="white" 
                    text-anchor="middle" 
                    dominant-baseline="middle">F</text>
              
              <!-- Smile face -->
              <g transform="translate(75, 65)">
                <!-- Eyes -->
                <circle cx="-3" cy="-2" r="2" fill="white" opacity="0.9"/>
                <circle cx="3" cy="-2" r="2" fill="white" opacity="0.9"/>
                <!-- Mouth -->
                <path d="M-4 2 Q0 6 4 2" stroke="white" stroke-width="1.5" fill="none" stroke-linecap="round" opacity="0.9"/>
              </g>
              
              <!-- Highlight/shine effect -->
              <ellipse cx="45" cy="35" rx="8" ry="6" fill="rgba(255,255,255,0.4)" opacity="0.6"/>
            </svg>
          </div>
          <h1 class="auth-title">FINZN</h1>
        </div>
        <p class="auth-subtitle">Tu compa√±ero financiero inteligente</p>
        <p class="auth-description">Gestiona tus finanzas de manera simple y divertida</p>
      </div>
      
      <form id="login-form" class="auth-form">
        <div class="input-group">
          <input type="text" id="login-user" name="username" placeholder="Usuario" required autocomplete="username" />
        </div>
        <div class="input-group">
          <input type="password" id="login-pass" name="password" placeholder="Contrase√±a" required autocomplete="current-password" />
        </div>
        <button type="submit" class="btn btn-primary btn-full">
          <span>‚ú®</span>
          Iniciar Sesi√≥n
        </button>
        <div id="login-error" class="error-message"></div>
      </form>
      
      <div class="auth-footer">
        <p>¬øNo tienes cuenta? <button type="button" id="show-register" class="link-btn">Reg√≠strate aqu√≠</button></p>
      </div>
    </div>
  </div>

  <!-- Register Container -->
  <div id="register-container" class="auth-container hidden">
    <div class="auth-card">
      <div class="auth-header">
        <div class="auth-logo">
          <div class="finzn-logo-main">
            <svg width="120" height="120" viewBox="0 0 120 120" xmlns="http://www.w3.org/2000/svg">
              <!-- Outer bubble/speech bubble shape -->
              <defs>
                <linearGradient id="logoGradientRegister" x1="0%" y1="0%" x2="100%" y2="100%">
                  <stop offset="0%" style="stop-color:#B7A6FF;stop-opacity:1" />
                  <stop offset="100%" style="stop-color:#BDE2FF;stop-opacity:1" />
                </linearGradient>
                <filter id="logoShadowRegister" x="-50%" y="-50%" width="200%" height="200%">
                  <feDropShadow dx="0" dy="4" stdDeviation="8" flood-color="rgba(183, 166, 255, 0.3)"/>
                </filter>
              </defs>
              
              <!-- Main bubble shape -->
              <path d="M20 40 Q20 20 40 20 L80 20 Q100 20 100 40 L100 60 Q100 80 80 80 L50 80 L35 95 L40 80 L40 80 Q20 80 20 60 Z" 
                    fill="url(#logoGradientRegister)" 
                    filter="url(#logoShadowRegister)"
                    stroke="rgba(255,255,255,0.3)" 
                    stroke-width="2"/>
              
              <!-- Letter F -->
              <text x="60" y="65" 
                    font-family="DM Sans, sans-serif" 
                    font-size="36" 
                    font-weight="900" 
                    fill="white" 
                    text-anchor="middle" 
                    dominant-baseline="middle">F</text>
              
              <!-- Happy smile face -->
              <g transform="translate(75, 65)">
                <!-- Eyes -->
                <circle cx="-3" cy="-2" r="2" fill="white" opacity="0.9"/>
                <circle cx="3" cy="-2" r="2" fill="white" opacity="0.9"/>
                <!-- Happy mouth -->
                <path d="M-5 1 Q0 7 5 1" stroke="white" stroke-width="2" fill="none" stroke-linecap="round" opacity="0.9"/>
              </g>
              
              <!-- Highlight/shine effect -->
              <ellipse cx="45" cy="35" rx="8" ry="6" fill="rgba(255,255,255,0.4)" opacity="0.6"/>
            </svg>
          </div>
          <h1 class="auth-title">¬°Bienvenido!</h1>
        </div>
        <p class="auth-subtitle">√önete a FINZN</p>
        <p class="auth-description">Comienza tu viaje hacia la libertad financiera</p>
      </div>
      
      <form id="register-form" class="auth-form">
        <div class="input-group">
          <input type="text" id="register-user" name="username" placeholder="Usuario" required autocomplete="username" />
        </div>
        <div class="input-group">
          <input type="password" id="register-pass" name="password" placeholder="Contrase√±a" required autocomplete="new-password" />
        </div>
        <button type="submit" class="btn btn-primary btn-full">
          <span>üöÄ</span>
          Crear Cuenta
        </button>
        <div id="register-error" class="error-message"></div>
      </form>
      
      <div class="auth-footer">
        <p>¬øYa tienes cuenta? <button type="button" id="show-login" class="link-btn">Inicia sesi√≥n</button></p>
      </div>
    </div>
  </div>
  
  <!-- Main Application -->
  <div id="app" class="app hidden">
    <!-- Header -->
    <header class="header">
      <div class="header-content">
        <div class="header-left">
          <div class="logo-container">
            <div class="finzn-logo-header">
              <svg width="48" height="48" viewBox="0 0 120 120" xmlns="http://www.w3.org/2000/svg">
                <defs>
                  <linearGradient id="headerLogoGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                    <stop offset="0%" style="stop-color:#B7A6FF;stop-opacity:1" />
                    <stop offset="100%" style="stop-color:#BDE2FF;stop-opacity:1" />
                  </linearGradient>
                </defs>
                
                <!-- Main bubble shape -->
                <path d="M20 40 Q20 20 40 20 L80 20 Q100 20 100 40 L100 60 Q100 80 80 80 L50 80 L35 95 L40 80 L40 80 Q20 80 20 60 Z" 
                      fill="url(#headerLogoGradient)" 
                      stroke="rgba(255,255,255,0.3)" 
                      stroke-width="2"/>
                
                <!-- Letter F -->
                <text x="60" y="65" 
                      font-family="DM Sans, sans-serif" 
                      font-size="36" 
                      font-weight="900" 
                      fill="white" 
                      text-anchor="middle" 
                      dominant-baseline="middle">F</text>
                
                <!-- Smile face -->
                <g transform="translate(75, 65)">
                  <circle cx="-3" cy="-2" r="2" fill="white" opacity="0.9"/>
                  <circle cx="3" cy="-2" r="2" fill="white" opacity="0.9"/>
                  <path d="M-4 2 Q0 6 4 2" stroke="white" stroke-width="1.5" fill="none" stroke-linecap="round" opacity="0.9"/>
                </g>
                
                <!-- Highlight -->
                <ellipse cx="45" cy="35" rx="8" ry="6" fill="rgba(255,255,255,0.4)" opacity="0.6"/>
              </svg>
            </div>
            <h1 class="logo">FINZN</h1>
          </div>
        </div>
        <div class="header-right">
          <div class="month-selector">
            <label for="month-select">Mes:</label>
            <select id="month-select"></select>
          </div>
          <div class="user-info">
            <span id="user-name"></span>
          </div>
          <button id="theme-toggle" class="btn btn-icon" title="Cambiar tema">
            <span class="theme-icon">üåô</span>
          </button>
          <button id="logout-btn" class="btn btn-secondary logout-btn" title="Cerrar sesi√≥n">
            <span>üëã</span>
            <span class="logout-text">Salir</span>
          </button>
        </div>
      </div>
    </header>

    <!-- Dashboard with New Layout -->
    <main class="dashboard-new">
      <!-- Sidebar Navigation -->
      <aside class="sidebar-nav">
        <nav class="nav-menu">
          <div class="nav-item active" data-section="dashboard">
            <div class="nav-icon">üìä</div>
            <span class="nav-label">Dashboard</span>
          </div>
          <div class="nav-item" data-section="expenses">
            <div class="nav-icon">üí≥</div>
            <span class="nav-label">Gastos</span>
          </div>
          <div class="nav-item" data-section="income">
            <div class="nav-icon">üí∞</div>
            <span class="nav-label">Ingresos</span>
          </div>
          <div class="nav-item" data-section="savings">
            <div class="nav-icon">üéØ</div>
            <span class="nav-label">Ahorros</span>
          </div>
          <div class="nav-item" data-section="achievements">
            <div class="nav-icon">üèÜ</div>
            <span class="nav-label">Logros</span>
          </div>
          <div class="nav-item" data-section="settings">
            <div class="nav-icon">‚öôÔ∏è</div>
            <span class="nav-label">Configuraci√≥n</span>
          </div>
        </nav>
      </aside>

      <!-- Main Content Area -->
      <div class="main-dashboard">
        <!-- Dashboard Section -->
        <section id="dashboard-section" class="dashboard-section active">
          <div class="dashboard-grid">
            <!-- Summary Cards Row -->
            <div class="summary-cards">
              <div class="summary-card expenses-card">
                <div class="card-header-simple">
                  <div class="card-icon-simple">üí≥</div>
                  <span class="card-title">Este Mes</span>
                </div>
                <div class="card-amount" id="monthly-expenses-summary">$1,200</div>
              </div>

              <div class="summary-card income-card">
                <div class="card-header-simple">
                  <div class="card-icon-simple">üí∞</div>
                  <span class="card-title">Ingresos</span>
                </div>
                <div class="card-amount" id="income-summary">$3,500</div>
              </div>

              <div class="summary-card balance-card-new">
                <div class="card-header-simple">
                  <span class="card-title">Balance</span>
                </div>
                <div class="card-amount balance-amount-new" id="balance-amount-new">$2,750</div>
              </div>
            </div>

            <!-- Goals Section -->
            <div class="goals-section">
              <div class="section-header">
                <h2>Objetivos de Ahorro</h2>
                <button id="add-goal-btn" class="btn btn-sm add-btn">
                  <span>‚ûï</span>
                </button>
              </div>
              <div id="goals-list-new" class="goals-list-new">
                <div class="goal-item-new">
                  <div class="goal-info">
                    <span class="goal-name">Vacaciones</span>
                    <span class="goal-percentage">75%</span>
                  </div>
                  <div class="goal-progress-new">
                    <div class="goal-progress-bar-new" style="width: 75%"></div>
                  </div>
                </div>
                <div class="goal-item-new">
                  <div class="goal-info">
                    <span class="goal-name">Nueva Laptop</span>
                    <span class="goal-percentage">40%</span>
                  </div>
                  <div class="goal-progress-new">
                    <div class="goal-progress-bar-new" style="width: 40%"></div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Chart Section -->
            <div class="chart-section">
              <div class="chart-card-new">
                <h3>Distribuci√≥n de Gastos</h3>
                <div class="chart-container-new">
                  <canvas id="expenses-chart"></canvas>
                </div>
              </div>
            </div>

            <!-- Achievements Section -->
            <div class="achievements-section">
              <div class="section-header">
                <h2>Logros</h2>
              </div>
              <div class="achievements-list-new">
                <div class="achievement-item-new">
                  <div class="achievement-icon">üèÜ</div>
                  <span>¬°Has alcanzado 3 objetivos!</span>
                </div>
                <div class="achievement-item-new">
                  <div class="achievement-icon">üí°</div>
                  <span>Consejos para esta semana</span>
                </div>
              </div>
            </div>

            <!-- Mascot Section -->
            <div class="mascot-section">
              <div class="dashboard-mascot">
                <div class="finzn-mascot-dashboard">
                  <svg width="80" height="80" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                    <defs>
                      <linearGradient id="mascotGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                        <stop offset="0%" style="stop-color:#B7A6FF;stop-opacity:1" />
                        <stop offset="50%" style="stop-color:#A8C8FF;stop-opacity:1" />
                        <stop offset="100%" style="stop-color:#BDE2FF;stop-opacity:1" />
                      </linearGradient>
                      <filter id="mascotGlow" x="-50%" y="-50%" width="200%" height="200%">
                        <feDropShadow dx="0" dy="4" stdDeviation="6" flood-color="rgba(183, 166, 255, 0.4)"/>
                      </filter>
                      <radialGradient id="eyeGradient" cx="30%" cy="30%">
                        <stop offset="0%" style="stop-color:#FFFFFF;stop-opacity:1" />
                        <stop offset="100%" style="stop-color:#E8E1FF;stop-opacity:1" />
                      </radialGradient>
                    </defs>
                    
                    <!-- Main mascot sphere with border -->
                    <circle cx="50" cy="50" r="42" 
                            fill="url(#mascotGradient)" 
                            filter="url(#mascotGlow)"
                            stroke="#6366F1" 
                            stroke-width="3"/>
                    
                    <!-- Large expressive eyes with gradient -->
                    <circle cx="38" cy="42" r="8" fill="url(#eyeGradient)" stroke="#433882" stroke-width="2"/>
                    <circle cx="62" cy="42" r="8" fill="url(#eyeGradient)" stroke="#433882" stroke-width="2"/>
                    
                    <!-- Eye pupils with highlights -->
                    <circle cx="38" cy="42" r="5" fill="#433882"/>
                    <circle cx="62" cy="42" r="5" fill="#433882"/>
                    
                    <!-- Eye highlights -->
                    <circle cx="40" cy="40" r="2" fill="white" opacity="0.9"/>
                    <circle cx="64" cy="40" r="2" fill="white" opacity="0.9"/>
                    
                    <!-- Happy smile -->
                    <path d="M38 62 Q50 72 62 62" stroke="#433882" stroke-width="3" fill="none" stroke-linecap="round"/>
                    
                    <!-- Main shine effect -->
                    <ellipse cx="40" cy="32" rx="8" ry="6" fill="rgba(255,255,255,0.6)" opacity="0.8"/>
                    
                    <!-- Additional small shine -->
                    <circle cx="60" cy="35" r="3" fill="rgba(255,255,255,0.4)" opacity="0.6"/>
                  </svg>
                </div>
              </div>
            </div>
          </div>
        </section>

        <!-- Expenses Section -->
        <section id="expenses-section" class="dashboard-section">
          <div class="section-content">
            <div class="section-header">
              <h1>Gesti√≥n de Gastos</h1>
              <button id="add-expense-btn" class="btn btn-primary">
                <span>‚ûï</span>
                Nuevo Gasto
              </button>
            </div>
            
            <div class="search-bar">
              <input type="text" id="expense-search" placeholder="üîç Buscar gastos..." />
            </div>
            
            <div class="expenses-grid">
              <div class="card">
                <div class="card-header">
                  <h3>Gastos Recientes</h3>
                </div>
                <div id="expenses-list" class="expenses-list"></div>
              </div>
              
              <div class="card">
                <div class="card-header">
                  <h3>Tendencia Mensual</h3>
                </div>
                <div class="chart-container">
                  <canvas id="trend-chart"></canvas>
                </div>
              </div>
            </div>
          </div>
        </section>

        <!-- Income Section -->
        <section id="income-section" class="dashboard-section">
          <div class="section-content">
            <div class="section-header">
              <h1>Gesti√≥n de Ingresos</h1>
            </div>
            
            <div class="income-grid">
              <div class="card">
                <div class="card-header">
                  <div class="card-icon">üíº</div>
                  <h2>Ingreso Fijo</h2>
                </div>
                <form id="fixed-income-form" class="income-form">
                  <div class="input-group">
                    <input type="number" id="fixed-income-input" placeholder="Ingreso fijo mensual" step="0.01" />
                    <button type="submit" class="btn btn-icon">üíæ</button>
                  </div>
                </form>
                <div class="income-summary">
                  <div class="income-item">
                    <span>Fijo:</span>
                    <span id="fixed-income-amount">$0</span>
                  </div>
                </div>
              </div>

              <div class="card">
                <div class="card-header">
                  <div class="card-icon">‚ú®</div>
                  <h2>Ingresos Extra</h2>
                </div>
                <button id="add-extra-income-btn" class="btn btn-primary btn-full">
                  <span>‚ú®</span>
                  Agregar Ingreso Extra
                </button>
                <div class="income-summary">
                  <div class="income-item">
                    <span>Extra:</span>
                    <span id="extra-income-amount">$0</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </section>

        <!-- Savings Section -->
        <section id="savings-section" class="dashboard-section">
          <div class="section-content">
            <div class="section-header">
              <h1>Objetivos de Ahorro</h1>
              <button id="add-goal-btn-section" class="btn btn-primary">
                <span>‚ûï</span>
                Nuevo Objetivo
              </button>
            </div>
            
            <div class="savings-grid">
              <div class="card">
                <div class="card-header">
                  <div class="card-icon">üéØ</div>
                  <h2>Mis Objetivos</h2>
                </div>
                <div id="goals-list" class="goals-list"></div>
              </div>
              
              <div class="card stats-card">
                <div class="card-header">
                  <div class="card-icon">üìä</div>
                  <h2>Resumen de Ahorros</h2>
                </div>
                <div class="stats-grid">
                  <div class="stat-item">
                    <div class="stat-label">Total Ahorrado</div>
                    <div class="stat-value" id="total-savings">$0</div>
                  </div>
                  <div class="stat-item">
                    <div class="stat-label">Promedio Mensual</div>
                    <div class="stat-value" id="monthly-average">$0</div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </section>

        <!-- Achievements Section -->
        <section id="achievements-section" class="dashboard-section">
          <div class="section-content">
            <div class="section-header">
              <h1>Logros y Reconocimientos</h1>
            </div>
            
            <div class="achievements-grid">
              <div class="card">
                <div class="card-header">
                  <div class="card-icon">üèÜ</div>
                  <h2>Mis Logros</h2>
                </div>
                <div id="achievements-list" class="achievements-list"></div>
              </div>
              
              <div class="card">
                <div class="card-header">
                  <div class="card-icon">üè∑Ô∏è</div>
                  <h2>Categor√≠as</h2>
                  <button id="add-category-btn" class="btn btn-sm add-btn">
                    <span>‚ûï</span>
                  </button>
                </div>
                <div id="categories-list" class="categories-list"></div>
              </div>
            </div>
          </div>
        </section>

        <!-- Settings Section -->
        <section id="settings-section" class="dashboard-section">
          <div class="section-content">
            <div class="section-header">
              <h1>Configuraci√≥n</h1>
            </div>
            
            <div class="settings-grid">
              <div class="card actions-card">
                <div class="card-header">
                  <div class="card-icon">‚ö°</div>
                  <h2>Acciones</h2>
                </div>
                <div class="actions-grid">
                  <button id="generate-report-btn" class="btn btn-secondary">üìä Generar Informe</button>
                  <button id="export-csv-btn" class="btn btn-secondary">üì• Exportar CSV</button>
                  <label for="import-csv" class="btn btn-secondary">üì§ Importar CSV</label>
                  <input type="file" id="import-csv" accept=".csv" class="hidden" />
                </div>
              </div>
            </div>
          </div>
        </section>
      </div>
    </main>
  </div>

  <!-- Modals -->
  <div id="expense-modal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2>Nuevo Gasto</h2>
        <button class="modal-close">&times;</button>
      </div>
      <form id="expense-form" class="modal-form">
        <div class="input-group">
          <label for="expense-description">Descripci√≥n</label>
          <input type="text" id="expense-description" name="description" required />
        </div>
        <div class="input-group">
          <label for="expense-amount">Monto</label>
          <input type="number" id="expense-amount" name="amount" step="0.01" required />
        </div>
        <div class="input-group">
          <label for="expense-category">Categor√≠a</label>
          <select id="expense-category" name="category" required></select>
        </div>
        <div class="input-group">
          <label for="expense-installments">Cuotas (opcional)</label>
          <input type="number" id="expense-installments" name="installments" min="1" />
        </div>
        <div class="checkbox-group">
          <label>
            <input type="checkbox" id="expense-recurring" name="recurring" />
            <span>Gasto recurrente</span>
          </label>
        </div>
        <div class="modal-actions">
          <button type="button" class="btn btn-secondary modal-cancel">Cancelar</button>
          <button type="submit" class="btn btn-primary">Agregar Gasto</button>
        </div>
      </form>
    </div>
  </div>

  <div id="extra-income-modal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2>Nuevo Ingreso Extra</h2>
        <button class="modal-close">&times;</button>
      </div>
      <form id="extra-income-form" class="modal-form">
        <div class="input-group">
          <label for="extra-income-description">Descripci√≥n</label>
          <input type="text" id="extra-income-description" name="description" placeholder="Ej: Venta de producto, Regalo, Trabajo freelance" required />
        </div>
        <div class="input-group">
          <label for="extra-income-amount">Monto</label>
          <input 
            type="number" 
            id="extra-income-amount" 
            name="amount" 
            step="0.01" 
            min="0.01" 
            placeholder="Ingresa el monto aqu√≠..." 
            required 
            autocomplete="off"
          />
        </div>
        <div class="input-group">
          <label for="extra-income-category">Categor√≠a</label>
          <select id="extra-income-category" name="category" required>
            <option value="">Selecciona una categor√≠a</option>
            <option value="Venta">üí∞ Venta</option>
            <option value="Regalo">üéÅ Regalo</option>
            <option value="Trabajo">üíº Trabajo</option>
            <option value="Freelance">üíª Freelance</option>
            <option value="Inversi√≥n">üìà Inversi√≥n</option>
            <option value="Bono">üéØ Bono</option>
            <option value="Otro">üì¶ Otro</option>
          </select>
        </div>
        <div class="modal-actions">
          <button type="button" class="btn btn-secondary modal-cancel">Cancelar</button>
          <button type="submit" class="btn btn-primary">Agregar Ingreso</button>
        </div>
      </form>
    </div>
  </div>

  <div id="goal-modal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2>Nuevo Objetivo</h2>
        <button class="modal-close">&times;</button>
      </div>
      <form id="goal-form" class="modal-form">
        <div class="input-group">
          <label for="goal-name">Nombre del objetivo</label>
          <input type="text" id="goal-name" name="name" required />
        </div>
        <div class="input-group">
          <label for="goal-target">Monto objetivo</label>
          <input type="number" id="goal-target" name="target" step="0.01" required />
        </div>
        <div class="input-group">
          <label for="goal-current">Monto actual</label>
          <input type="number" id="goal-current" name="current" step="0.01" value="0" />
        </div>
        <div class="modal-actions">
          <button type="button" class="btn btn-secondary modal-cancel">Cancelar</button>
          <button type="submit" class="btn btn-primary">Crear Objetivo</button>
        </div>
      </form>
    </div>
  </div>

  <div id="category-modal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2>Nueva Categor√≠a</h2>
        <button class="modal-close">&times;</button>
      </div>
      <form id="category-form" class="modal-form">
        <div class="input-group">
          <label for="category-name">Nombre</label>
          <input type="text" id="category-name" name="name" required />
        </div>
        <div class="input-group">
          <label for="category-icon">Icono</label>
          <input type="text" id="category-icon" name="icon" maxlength="2" placeholder="üè∑Ô∏è" />
        </div>
        <div class="input-group">
          <label for="category-color">Color</label>
          <input type="color" id="category-color" name="color" value="#B7A6FF" />
        </div>
        <div class="modal-actions">
          <button type="button" class="btn btn-secondary modal-cancel">Cancelar</button>
          <button type="submit" class="btn btn-primary">Crear Categor√≠a</button>
        </div>
      </form>
    </div>
  </div>

  <div id="report-modal" class="modal">
    <div class="modal-content modal-large">
      <div class="modal-header">
        <h2>Informe Financiero</h2>
        <button class="modal-close">&times;</button>
      </div>
      <div id="report-content" class="report-content"></div>
      <div class="modal-actions">
        <button id="download-report-btn" class="btn btn-primary">üì• Descargar</button>
        <button class="btn btn-secondary modal-cancel">Cerrar</button>
      </div>
    </div>
  </div>

  <!-- AI Chat Assistant with New Mascot -->
  <div id="chat-assistant" class="chat-assistant">
    <button id="chat-toggle" class="chat-toggle">
      <div class="finzn-chat-mascot">
        <svg width="40" height="40" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
          <defs>
            <linearGradient id="chatMascotGradient" x1="0%" y1="0%" x2="100%" y2="100%">
              <stop offset="0%" style="stop-color:#B7A6FF;stop-opacity:1" />
              <stop offset="50%" style="stop-color:#A8C8FF;stop-opacity:1" />
              <stop offset="100%" style="stop-color:#BDE2FF;stop-opacity:1" />
            </linearGradient>
            <radialGradient id="chatEyeGradient" cx="30%" cy="30%">
              <stop offset="0%" style="stop-color:#FFFFFF;stop-opacity:1" />
              <stop offset="100%" style="stop-color:#E8E1FF;stop-opacity:1" />
            </radialGradient>
          </defs>
          
          <!-- Main mascot sphere with border -->
          <circle cx="50" cy="50" r="42" 
                  fill="url(#chatMascotGradient)" 
                  stroke="rgba(255,255,255,0.6)" 
                  stroke-width="3"/>
          
          <!-- Large expressive eyes -->
          <circle cx="38" cy="42" r="7" fill="url(#chatEyeGradient)" stroke="#433882" stroke-width="2"/>
          <circle cx="62" cy="42" r="7" fill="url(#chatEyeGradient)" stroke="#433882" stroke-width="2"/>
          
          <!-- Eye pupils -->
          <circle cx="38" cy="42" r="4" fill="#433882"/>
          <circle cx="62" cy="42" r="4" fill="#433882"/>
          
          <!-- Eye highlights -->
          <circle cx="40" cy="40" r="1.5" fill="white" opacity="0.9"/>
          <circle cx="64" cy="40" r="1.5" fill="white" opacity="0.9"/>
          
          <!-- Happy smile -->
          <path d="M38 62 Q50 70 62 62" stroke="#433882" stroke-width="3" fill="none" stroke-linecap="round"/>
          
          <!-- Main shine effect -->
          <ellipse cx="40" cy="32" rx="7" ry="5" fill="rgba(255,255,255,0.6)" opacity="0.8"/>
          
          <!-- Additional small shine -->
          <circle cx="60" cy="35" r="2.5" fill="rgba(255,255,255,0.4)" opacity="0.6"/>
        </svg>
      </div>
    </button>
    <div id="chat-window" class="chat-window hidden">
      <div class="chat-header">
        <div class="chat-header-info">
          <div class="chat-avatar-small">
            <div class="finzn-chat-mini">
              <svg width="32" height="32" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                <defs>
                  <linearGradient id="chatMiniGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                    <stop offset="0%" style="stop-color:#B7A6FF;stop-opacity:1" />
                    <stop offset="50%" style="stop-color:#A8C8FF;stop-opacity:1" />
                    <stop offset="100%" style="stop-color:#BDE2FF;stop-opacity:1" />
                  </linearGradient>
                  <radialGradient id="miniEyeGradient" cx="30%" cy="30%">
                    <stop offset="0%" style="stop-color:#FFFFFF;stop-opacity:1" />
                    <stop offset="100%" style="stop-color:#E8E1FF;stop-opacity:1" />
                  </radialGradient>
                </defs>
                
                <circle cx="50" cy="50" r="42" 
                        fill="url(#chatMiniGradient)" 
                        stroke="rgba(255,255,255,0.6)" 
                        stroke-width="3"/>
                
                <circle cx="38" cy="42" r="6" fill="url(#miniEyeGradient)" stroke="#433882" stroke-width="1.5"/>
                <circle cx="62" cy="42" r="6" fill="url(#miniEyeGradient)" stroke="#433882" stroke-width="1.5"/>
                
                <circle cx="38" cy="42" r="3.5" fill="#433882"/>
                <circle cx="62" cy="42" r="3.5" fill="#433882"/>
                
                <circle cx="40" cy="40" r="1.5" fill="white" opacity="0.9"/>
                <circle cx="64" cy="40" r="1.5" fill="white" opacity="0.9"/>
                
                <path d="M38 62 Q50 70 62 62" stroke="#433882" stroke-width="2.5" fill="none" stroke-linecap="round"/>
                
                <ellipse cx="40" cy="32" rx="6" ry="4" fill="rgba(255,255,255,0.6)" opacity="0.8"/>
                <circle cx="60" cy="35" r="2" fill="rgba(255,255,255,0.4)" opacity="0.6"/>
              </svg>
            </div>
          </div>
          <div class="chat-header-text">
            <h3>Asistente Financiero</h3>
            <div class="chat-status">En l√≠nea</div>
          </div>
        </div>
        <button id="chat-close" class="chat-close">&times;</button>
      </div>
      <div id="chat-messages" class="chat-messages"></div>
      <form id="chat-form" class="chat-form">
        <div class="chat-input-container">
          <input type="text" id="chat-input" placeholder="Preg√∫ntame sobre finanzas..." />
          <button type="submit" class="btn btn-primary chat-send-btn">
            <span>üì§</span>
          </button>
        </div>
      </form>
    </div>
  </div>

  <script type="module" src="/src/main.js"></script>
</body>
</html>